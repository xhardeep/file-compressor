<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COMPRESSOR // 2100</title>
    <link rel="stylesheet" href="css/style.css">
    
    <!-- CDN Libraries -->
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script src="https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.min.js"></script>
    <script src="https://unpkg.com/browser-image-compression@2.0.2/dist/browser-image-compression.js"></script>
    <script src="https://unpkg.com/jszip@3.10.1/dist/jszip.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Compressor</h1>
            <p class="subtitle">Next-Gen File Optimization System</p>
            <button class="theme-toggle" id="themeToggle" title="Toggle theme">
                ◐ Theme
            </button>
        </header>

        <!-- Left Column: Settings & Upload -->
        <div class="left-column">
            <!-- Settings -->
            <section class="settings-section">
            <div class="settings-row">
                <label for="outputFormat">Output Format</label>
                <select id="outputFormat">
                    <option value="image/jpeg">JPEG</option>
                    <option value="image/png">PNG</option>
                    <option value="application/pdf">PDF</option>
                </select>
            </div>
            <div class="settings-row">
                <label for="targetSize">Target Size (KB)</label>
                <input type="number" id="targetSize" min="1" max="1000" value="200" placeholder="e.g., 200">
            </div>
        </section>

        <!-- Upload Zone -->
        <section class="upload-section">
            <div id="dropZone" class="drop-zone">
                <div class="drop-zone-content">
                    <span class="upload-icon">◈</span>
                    <p class="drop-text">Drop Files Here</p>
                    <p class="or-text">or</p>
                    <button id="browseBtn" class="browse-btn">Select Files</button>
                    <input type="file" id="fileInput" multiple accept=".jpg,.jpeg,.png,.pdf" hidden>
                    <p class="supported-formats">JPEG · PNG · PDF</p>
                </div>
            </div>
        </section>
        </div>

        <!-- Right Column: Output/Processing -->
        <div class="right-column">
        <!-- Progress Section -->
        <section id="progressSection" class="progress-section hidden">
            <div class="progress-bar-container">
                <div id="progressBar" class="progress-bar"></div>
            </div>
            <p id="progressText" class="progress-text">Processing...</p>
        </section>

        <!-- Files Grid -->
        <section id="filesSection" class="files-section hidden">
            <div class="files-header">
                <h2>Processing Queue</h2>
                <button id="downloadAllBtn" class="download-all-btn hidden">
                    Download All
                </button>
            </div>
            <div id="filesGrid" class="files-grid">
                <!-- File cards will be inserted here -->
            </div>
        </section>
        </div>

        <!-- Footer -->
        <footer>
            <p>▸ All processing occurs locally. Zero data transmission.</p>
        </footer>
    </div>

    <!-- File Card Template (hidden) -->
    <template id="fileCardTemplate">
        <div class="file-card">
            <div class="file-card-header">
                <span class="file-name" title="filename.jpg">filename.jpg</span>
            </div>
            <div class="file-card-body">
                <div class="thumbnail-container">
                    <img class="thumbnail" src="" alt="Preview">
                    <div class="pdf-page-selector hidden">
                        <label>Pages:</label>
                        <select class="page-select"></select>
                    </div>
                    <div class="convert-all-container hidden">
                        <label class="convert-all-label">
                            <input type="checkbox" class="convert-all-checkbox">
                            Convert all pages
                        </label>
                    </div>
                </div>
                <div class="file-info">
                    <div class="info-row">
                        <span class="info-label">Original:</span>
                        <span class="original-info">0 KB</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Converted:</span>
                        <span class="converted-info">--</span>
                    </div>
                </div>
                <div class="file-status"></div>
            </div>
            <div class="file-card-footer">
                <button class="convert-btn">Convert</button>
                <button class="download-btn hidden">Download</button>
                <button class="remove-btn">Remove</button>
            </div>
        </div>
    </template>

    <!-- Scripts -->
    <script src="js/presets.js"></script>
    <script src="js/imageProcessor.js"></script>
    <script src="js/pdfProcessor.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
